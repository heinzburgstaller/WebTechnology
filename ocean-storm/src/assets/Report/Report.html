<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=lhDjYqiy3mZ0x6ROQEUoUw');.lst-kix_xt5n4odu7qr2-4>li:before{content:"\0025cb  "}ul.lst-kix_xt5n4odu7qr2-8{list-style-type:none}ul.lst-kix_xt5n4odu7qr2-7{list-style-type:none}ul.lst-kix_xt5n4odu7qr2-6{list-style-type:none}ul.lst-kix_xt5n4odu7qr2-5{list-style-type:none}.lst-kix_xt5n4odu7qr2-2>li:before{content:"\0025a0  "}.lst-kix_xt5n4odu7qr2-3>li:before{content:"\0025cf  "}ul.lst-kix_xt5n4odu7qr2-4{list-style-type:none}ul.lst-kix_xt5n4odu7qr2-3{list-style-type:none}ul.lst-kix_xt5n4odu7qr2-2{list-style-type:none}ul.lst-kix_xt5n4odu7qr2-1{list-style-type:none}ul.lst-kix_xt5n4odu7qr2-0{list-style-type:none}.lst-kix_xt5n4odu7qr2-1>li:before{content:"\0025cb  "}.lst-kix_xt5n4odu7qr2-5>li:before{content:"\0025a0  "}.lst-kix_xt5n4odu7qr2-6>li:before{content:"\0025cf  "}.lst-kix_xt5n4odu7qr2-7>li:before{content:"\0025cb  "}.lst-kix_xt5n4odu7qr2-0>li:before{content:"\0025cf  "}.lst-kix_xt5n4odu7qr2-8>li:before{content:"\0025a0  "}ol{margin:0;padding:0}table td,table th{padding:0}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:18pt;font-family:"Arial";font-style:normal}.c14{color:#666666;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:22pt;font-family:"Arial";font-style:normal}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c4{margin-left:18pt;padding-top:3pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c7{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c23{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:26pt;font-family:"Arial";font-style:normal}.c13{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:18pt;font-family:"Arial";font-style:normal}.c3{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c20{margin-left:18pt;padding-top:3pt;padding-bottom:4pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c0{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c27{padding-top:4pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c9{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;text-align:left;height:18pt}.c2{padding-top:10pt;padding-bottom:0pt;line-height:1.0;orphans:2;widows:2;text-align:left}.c11{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c16{font-weight:400;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c24{padding-top:0pt;padding-bottom:0pt;line-height:1.15;page-break-after:avoid;text-align:left}.c6{padding-top:24pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;text-align:left}.c10{padding-top:18pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;text-align:left}.c22{padding-top:0pt;padding-bottom:3pt;line-height:1.15;page-break-after:avoid;text-align:left}.c8{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c18{background-color:#ffffff;max-width:451.3pt;padding:72pt 72pt 72pt 72pt}.c26{padding:0;margin:0}.c12{font-weight:400;font-family:"Consolas"}.c19{margin-left:36pt;padding-left:0pt}.c15{color:inherit;text-decoration:inherit}.c21{font-weight:700}.c25{height:11pt}.title{padding-top:24pt;color:#000000;font-weight:700;font-size:36pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:18pt;color:#666666;font-size:24pt;padding-bottom:4pt;font-family:"Georgia";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:24pt;color:#000000;font-weight:700;font-size:18pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-weight:700;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:14pt;color:#666666;font-weight:700;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}h5{padding-top:11pt;color:#666666;font-weight:700;font-size:10pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:10pt;color:#666666;font-size:10pt;padding-bottom:2pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c18"><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 301.33px;"><img alt="" src="images/image1.png" style="width: 602.00px; height: 301.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c0"><span class="c1"></span></p><p class="c22 title" id="h.d2d1a6savocj"><span class="c23">Ocean Storm</span></p><p class="c24 subtitle" id="h.525eku7efk7o"><span class="c14">Web Technologies</span></p><p class="c24 subtitle" id="h.k1q5eh9ndv39"><span class="c14">(WS 2017/18)</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c17"></span></p><p class="c5"><span class="c17">Heinz Burgstaller &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1231266</span></p><p class="c5"><span class="c17">Stefan B&uuml;rscher &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1230486</span></p><p class="c5"><span class="c17">Stefan Papst&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1430868</span></p><p class="c5"><span class="c17">Klemens Strasser &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1330111</span></p><hr style="page-break-before:always;display:none;"><p class="c0"><span class="c17"></span></p><p class="c0"><span class="c17"></span></p><p class="c5"><span class="c13">Content</span></p><p class="c0"><span class="c13"></span></p><p class="c27"><span class="c8"><a class="c15" href="#h.1vaytiu4whj3">Functionality</a></span></p><p class="c2"><span class="c8"><a class="c15" href="#h.grxzerehvn5v">Architecture</a></span></p><p class="c2"><span class="c8"><a class="c15" href="#h.f7k7svql1ode">Used Technologies</a></span></p><p class="c4"><span class="c8"><a class="c15" href="#h.xopdo25j3tkc">WebRTC</a></span></p><p class="c4"><span class="c8"><a class="c15" href="#h.148z3rjj4d17">Firebase</a></span></p><p class="c4"><span class="c8"><a class="c15" href="#h.1w9nkdyjxpn0">Canvas</a></span></p><p class="c4"><span class="c8"><a class="c15" href="#h.h1swclajq8dw">Audio</a></span></p><p class="c20"><span class="c8"><a class="c15" href="#h.6zgj6qik1uj">Drag&rsquo;n&rsquo;Drop</a></span></p><p class="c0"><span class="c13"></span></p><p class="c0"><span class="c13"></span></p><p class="c20 c25"><span class="c7"></span></p><p class="c0"><span class="c17"></span></p><p class="c0"><span class="c17"></span></p><h1 class="c9" id="h.pgp59y7jxbii"><span class="c13"></span></h1><hr style="page-break-before:always;display:none;"><h1 class="c9" id="h.3kwf275aj5y7"><span class="c13"></span></h1><h1 class="c6" id="h.1vaytiu4whj3"><span class="c13">Functionality</span></h1><p class="c5"><span class="c1">Ocean Storm is an online battleship game. For each game, the players run through four phases. First, a player has to select an opponent from the players list and connect with him/her. </span></p><p class="c0"><span class="c1"></span></p><p class="c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 552.00px; height: 166.00px;"><img alt="" src="images/image2.png" style="width: 602.00px; height: 395.00px; margin-left: -25.00px; margin-top: -46.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c11"><span class="c7">Image 1: Player Selection</span></p><p class="c0"><span class="c1"></span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span class="c1">As soon as both players are connected, they will be presented with two game fields. The left one is the field of the player, the right one the field of the opponent. Now in the second phase, both player have to place their ships onto their fields via drag and drop. As soon as they are finished, they have to click on the &ldquo;GO&rdquo; button and the third phase is entered.</span></p><p class="c0"><span class="c1"></span></p><p class="c11"><span>&nbsp;</span><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 551.00px; height: 274.00px;"><img alt="" src="images/image4.png" style="width: 602.00px; height: 396.00px; margin-left: -25.00px; margin-top: -46.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c11"><span class="c21">Image 2: Placing the ships</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span class="c1">Players now select successively cells on their opponents game field to reveal it. If the field is empty, a blue circle is drawn onto it. If the field is occupied by a ship and at least one more field of the same ship is still hidden, a red cross is drawn onto it. But if the field is occupied by a ship and this tile was the last hidden one of the ship, the whole ship will be revealed to the player with red crosses on every part of it. After one of the presented cases occurs, the game transitions to the opponent&#39;s turn and this procedure repates.</span></p><p class="c0"><span class="c1"></span></p><p class="c11"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 551.00px; height: 261.00px;"><img alt="" src="images/image3.png" style="width: 602.00px; height: 396.00px; margin-left: -25.00px; margin-top: -47.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c11"><span class="c7">Image 3: Gameplay</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span>The fourth and final phase is the games end. This phase is entered a</span><span>s soon</span><span class="c1">&nbsp;as one player sinks all of the ships of his/her opponent. When that happens, the players will be disconnected and the status field will be updated to indicate the win/loss. The players are now back on the matchmaking screen where they can start their next game.</span></p><h1 class="c6" id="h.grxzerehvn5v"><span class="c13">Architecture</span></h1><p class="c5"><span class="c1">Due the use of Angular the application confirms to the Model View Controller pattern:</span></p><ul class="c26 lst-kix_xt5n4odu7qr2-0 start"><li class="c5 c19"><span class="c1">Model: Arrays, enumerations or classes</span></li><li class="c5 c19"><span class="c1">Controller: Special controller classes which use the Models</span></li><li class="c5 c19"><span class="c1">View: HTML views communicating with the controller class</span></li></ul><p class="c0"><span class="c1"></span></p><p class="c5"><span>Our web application has a main application instance, the view is located in </span><span class="c12">src/app/app.component.html</span><span>, the corresponding controller class is </span><span class="c12">src/app/app.component.ts</span><span>. This layer handles the game logic. Via dependency injection the network service (</span><span class="c12">src/app/network.service.ts</span><span>), which handles all communication between clients, is provided as a singleton throughout the entire application to the main application. The main application uses the GameFieldDrawer (</span><span class="c12">src/app/GameFieldCanvas.ts</span><span class="c1">) to draw the game fields for the player and it&rsquo;s enemy. The following figure explains the architecture in a visual way.</span></p><p class="c0"><span class="c1"></span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 602.00px; height: 286.67px;"><img alt="" src="images/image5.png" style="width: 602.00px; height: 286.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h1 class="c6" id="h.f7k7svql1ode"><span class="c13">Used Technologies</span></h1><h2 class="c10" id="h.xopdo25j3tkc"><span class="c3">WebRTC</span></h2><p class="c5"><span class="c1">We used WebRTC for the peer-to-peer connection between the two players. This was certainly the right choice because thanks to WebRTC, we only need to provide a infrastructure for matchmaking and do not have to care about maintaining a session on the server.</span></p><h2 class="c10" id="h.148z3rjj4d17"><span class="c3">Firebase</span></h2><p class="c5"><span class="c1">The Firebase project provides a realtime database. This means every change in the JSON database is distributed immediately to all clients connected to this database. We use this feature to administrate a list of available players.</span></p><h2 class="c10" id="h.1w9nkdyjxpn0"><span class="c3">Canvas</span></h2><p class="c5"><span>In every game, two HTML5 canvases are used for drawing the two game fields. One could argue that drawing the fields using SVGs would have been the better choice, because the hovering and indication of drag and drop would be easier using SVG. And since the game isn&rsquo;t graphically expensive, the worse performance </span><span>using </span><span class="c1">SVGs would not impact the overall performance of the game. </span></p><h2 class="c10" id="h.h1swclajq8dw"><span class="c3">Audio</span></h2><p class="c5"><span class="c1">When the last tile of a ship is hit, an audio will be played to indicate that the ship is sunk. This is done via the HTML5 audio tag, which works great.</span></p><h2 class="c10" id="h.6zgj6qik1uj"><span class="c3">Drag&rsquo;n&rsquo;Drop</span></h2><p class="c5"><span class="c1">We used two different ways of drag and drop. One was manually developed using mouse events. This is used for placing ships. The second way using HTML5 support was used at the beginning where the user can choose an enemy. The player has to drop the chosen enemy at a marked field. This starts the game.</span></p></body></html>